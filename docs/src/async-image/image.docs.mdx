import { Meta } from '@storybook/blocks'
import { AsyncImage } from 'loadable-image'
import { Controls, Canvas } from '@storybook/addon-docs'
import * as ImageStories from './image.stories'

<Meta title='LoadableImage' of={ImageStories} />

# Demo
Try to scroll down and see images start loading. You can also try to disconnect from the internet and see how error image is shown.
<div style={{
	gap: 4,
	padding: 16,
	borderRadius: 4,
	display: 'grid',
	justifyContent: 'center',
	gridTemplateColumns: 'auto auto',
	background: '#262626',
	overflow: 'scroll',
	height: 450,
}}>
	{Array.from({ length: 30 }, (value, index) => index).map((i) => (
		<AsyncImage
			src={ [6, 11].includes(i) ? 'badURL':`https://picsum.photos/${i < 10 ? '186' + i : '16' + i}`}
			style={{ width: 160, height: 160, borderRadius: 3 }}
			loader={<div style={{background: '#888'}}/>}
		/>
	))}
</div>

```tsx
import { AsyncImage } from 'loadable-image'
...
<AsyncImage
  src='https://picsum.photos/1900'
  style={{ width: 150, height: 150 }}
  loader={<div style={{ background: '#888' }}/>}
/>
```

## Blur effect
To achieve blur effect you can use smaller image as a `loader`. See example below.
<Canvas of={ImageStories.Blur} sourceState='shown' />

## Props
<div style={{overflowX: 'auto'}}>
	<Controls of={ImageStories.Blur} />
</div>
